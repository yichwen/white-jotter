webpackJsonp([14],{"s+XQ":function(t,e){},yA7P:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"ArticleManagement",data:function(){return{articles:[],pageSize:10,total:0}},mounted:function(){this.loadArticles()},computed:{tableHeight:function(){return window.innerHeight-320}},methods:{loadArticles:function(){var t=this;this.$axios.get("/article/"+this.pageSize+"/1").then(function(e){e&&200===e.data.code&&(t.articles=e.data.result.content,t.total=e.data.result.totalElements)})},handleCurrentChange:function(t){var e=this;this.$axios.get("/article/"+this.pageSize+"/"+t).then(function(t){t&&200===t.data.code&&(e.articles=t.data.result.content,e.total=t.data.result.totalElements)})},viewArticle:function(t){var e=this.$router.resolve({path:"../../jotter/article",query:{id:t}});window.open(e.href,"_blank")},editArticle:function(t){this.$router.push({name:"Editor",params:{article:t}})},deleteArticle:function(t){var e=this;this.$confirm("此操作将永久删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.delete("/admin/content/article/"+t).then(function(t){t&&200===t.data.code&&e.loadArticles()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticStyle:{margin:"18px 0px 0px 18px"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/admin/dashboard"}}},[t._v("管理中心")]),t._v(" "),a("el-breadcrumb-item",[t._v("内容管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("文章管理")])],1)],1),t._v(" "),a("el-link",{staticClass:"add-link",attrs:{href:"/#/admin/content/editor",underline:!1,target:"_blank"}},[a("el-button",{attrs:{type:"success"}},[t._v("写文章")])],1),t._v(" "),a("el-card",{staticStyle:{margin:"18px 1%",width:"95%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.articles,stripe:"","max-height":t.tableHeight}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{attrs:{"label-position":"left",inline:""}},[a("el-form-item",[a("span",[t._v(t._s(e.row.articleAbstract))])])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"articleTitle",label:"题目（展开查看摘要）",fit:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"articleDate",label:"发布日期",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.viewArticle(e.row.id)}}},[t._v("\n            查看\n          ")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.editArticle(e.row)}}},[t._v("\n            编辑\n          ")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.deleteArticle(e.row.id)}}},[t._v("\n            移除\n          ")])]}}])})],1),t._v(" "),a("div",{staticStyle:{margin:"20px 0 50px 0"}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"total, prev, pager, next, jumper","page-size":t.pageSize,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")(n,i,!1,function(t){a("s+XQ")},"data-v-34392891",null);e.default=r.exports}});
//# sourceMappingURL=14.383fc934fb920a597f5b.js.map