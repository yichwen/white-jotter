{"version":3,"sources":["webpack:///src/components/admin/content/BookManagement.vue","webpack:///./src/components/admin/content/BookManagement.vue?cd19","webpack:///./src/components/admin/content/BookManagement.vue","webpack:///src/components/admin/content/EditForm.vue","webpack:///./src/components/admin/content/EditForm.vue?9b62","webpack:///./src/components/admin/content/EditForm.vue"],"names":["BookManagement","name","components","EditForm","data","books","mounted","this","loadBooks","computed","tableHeight","window","innerHeight","methods","deleteBook","id","_this2","$confirm","confirmButtonText","cancelButtonText","type","then","$axios","post","resp","status","catch","$message","message","editBook","item","$refs","edit","dialogFormVisible","form","cover","title","author","date","press","abs","category","toString","_this","get","console","log","content_BookManagement","render","_vm","_h","$createElement","_c","_self","staticStyle","margin","attrs","separator-class","to","path","_v","ref","on","onSubmit","$event","width","stripe","max-height","scopedSlots","_u","key","fn","props","label-position","inline","_s","row","prop","label","fit","fixed","scope","size","nativeOn","click","preventDefault","float","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","ImgUpload","cid","formLabelWidth","clear","imgUpload","$emit","uploadImg","url","content_EditForm","text-align","staticClass","visible","update:visible","close","model","value","callback","$$v","expression","label-width","autocomplete","placeholder","$set","onUpload","height","slot"],"mappings":"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","file":"static/js/8.7f75affe3bce2ab0faf8.js","sourcesContent":["<template>\r\n  <div>\r\n    <el-row style=\"margin: 18px 0px 0px 18px \">\r\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n        <el-breadcrumb-item :to=\"{ path: '/admin/dashboard' }\">管理中心</el-breadcrumb-item>\r\n        <el-breadcrumb-item>内容管理</el-breadcrumb-item>\r\n        <el-breadcrumb-item>图书管理</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </el-row>\r\n    <edit-form @onSubmit=\"loadBooks()\" ref=\"edit\"></edit-form>\r\n    <el-card style=\"margin: 18px 2%;width: 95%\">\r\n      <el-table\r\n        :data=\"books\"\r\n        stripe\r\n        style=\"width: 100%\"\r\n        :max-height=\"tableHeight\">\r\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n        <el-table-column type=\"expand\">\r\n          <template slot-scope=\"props\">\r\n            <el-form label-position=\"left\" inline>\r\n              <el-form-item>\r\n                <span>{{ props.row.abs }}</span>\r\n              </el-form-item>\r\n            </el-form>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"title\"\r\n          label=\"书名（展开查看摘要）\"\r\n          fit>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"category.name\"\r\n          label=\"分类\"\r\n          width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"author\"\r\n          label=\"作者\"\r\n          fit>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"date\"\r\n          label=\"出版日期\"\r\n          width=\"120\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"press\"\r\n          label=\"出版社\"\r\n          fit>\r\n        </el-table-column>\r\n        <!--<el-table-column-->\r\n          <!--prop=\"abs\"-->\r\n          <!--label=\"摘要\"-->\r\n          <!--show-overflow-tooltip-->\r\n          <!--fit>-->\r\n        <!--</el-table-column>-->\r\n        <el-table-column\r\n          fixed=\"right\"\r\n          label=\"操作\"\r\n          width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              @click.native.prevent=\"editBook(scope.row)\"\r\n              type=\"text\"\r\n              size=\"small\">\r\n              编辑\r\n            </el-button>\r\n            <el-button\r\n              @click.native.prevent=\"deleteBook(scope.row.id)\"\r\n              type=\"text\"\r\n              size=\"small\">\r\n              移除\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div style=\"margin: 20px 0 20px 0;float: left\">\r\n        <el-button>取消选择</el-button>\r\n        <el-button>批量删除</el-button>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EditForm from './EditForm'\r\nexport default {\r\n  name: 'BookManagement',\r\n  components: {EditForm},\r\n  data () {\r\n    return {\r\n      books: []\r\n    }\r\n  },\r\n  mounted () {\r\n    this.loadBooks()\r\n  },\r\n  computed: {\r\n    tableHeight () {\r\n      return window.innerHeight - 320\r\n    }\r\n  },\r\n  methods: {\r\n    deleteBook (id) {\r\n      this.$confirm('此操作将永久删除该书籍, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$axios.post('/admin/content/books/delete', {id: id}).then(resp => {\r\n          // if (resp && resp.data.code === 200) {\r\n          if (resp && resp.status === 200) {\r\n            this.loadBooks()\r\n          }\r\n        })\r\n      }\r\n      ).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        })\r\n      })\r\n    },\r\n    editBook (item) {\r\n      this.$refs.edit.dialogFormVisible = true\r\n      this.$refs.edit.form = {\r\n        id: item.id,\r\n        cover: item.cover,\r\n        title: item.title,\r\n        author: item.author,\r\n        date: item.date,\r\n        press: item.press,\r\n        abs: item.abs,\r\n        category: {\r\n          id: item.category.id.toString(),\r\n          name: item.category.name\r\n        }\r\n      }\r\n      // this.$refs.edit.category = {\r\n      //   id: item.category.id.toString()\r\n      // }\r\n    },\r\n    loadBooks () {\r\n      var _this = this\r\n      this.$axios.get('/books').then(resp => {\r\n        // if (resp && resp.data.code === 200) {\r\n        if (resp && resp.status === 200) {\r\n          _this.books = resp.data\r\n          console.log(_this.books)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/admin/content/BookManagement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{staticStyle:{\"margin\":\"18px 0px 0px 18px\"}},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/admin/dashboard' }}},[_vm._v(\"管理中心\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"内容管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"图书管理\")])],1)],1),_vm._v(\" \"),_c('edit-form',{ref:\"edit\",on:{\"onSubmit\":function($event){return _vm.loadBooks()}}}),_vm._v(\" \"),_c('el-card',{staticStyle:{\"margin\":\"18px 2%\",\"width\":\"95%\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.books,\"stripe\":\"\",\"max-height\":_vm.tableHeight}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_c('el-form-item',[_c('span',[_vm._v(_vm._s(props.row.abs))])])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"书名（展开查看摘要）\",\"fit\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"category.name\",\"label\":\"分类\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"author\",\"label\":\"作者\",\"fit\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"出版日期\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"press\",\"label\":\"出版社\",\"fit\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.editBook(scope.row)}}},[_vm._v(\"\\n            编辑\\n          \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.deleteBook(scope.row.id)}}},[_vm._v(\"\\n            移除\\n          \")])]}}])})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"20px 0 20px 0\",\"float\":\"left\"}},[_c('el-button',[_vm._v(\"取消选择\")]),_vm._v(\" \"),_c('el-button',[_vm._v(\"批量删除\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2a86f81b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/admin/content/BookManagement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2a86f81b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BookManagement.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BookManagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BookManagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2a86f81b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./BookManagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2a86f81b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/admin/content/BookManagement.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div style=\"text-align: left\">\r\n    <el-button class=\"add-button\" type=\"success\" @click=\"dialogFormVisible = true\">添加图书</el-button>\r\n    <el-dialog\r\n      title=\"添加/修改图书\"\r\n      :visible.sync=\"dialogFormVisible\"\r\n      @close=\"clear\">\r\n      <el-form v-model=\"form\" style=\"text-align: left\" ref=\"dataForm\">\r\n        <el-form-item label=\"书名\" :label-width=\"formLabelWidth\" prop=\"title\">\r\n          <el-input v-model=\"form.title\" autocomplete=\"off\" placeholder=\"不加《》\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"作者\" :label-width=\"formLabelWidth\" prop=\"author\">\r\n          <el-input v-model=\"form.author\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"出版日期\" :label-width=\"formLabelWidth\" prop=\"date\">\r\n          <el-input v-model=\"form.date\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"出版社\" :label-width=\"formLabelWidth\" prop=\"press\">\r\n          <el-input v-model=\"form.press\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"封面\" :label-width=\"formLabelWidth\" prop=\"cover\">\r\n          <el-input v-model=\"form.cover\" autocomplete=\"off\" placeholder=\"图片 URL\"></el-input>\r\n          <img-upload @onUpload=\"uploadImg\" ref=\"imgUpload\"></img-upload>\r\n        </el-form-item>\r\n        <el-form-item label=\"简介\" :label-width=\"formLabelWidth\" prop=\"abs\">\r\n          <el-input type=\"textarea\" v-model=\"form.abs\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"分类\" :label-width=\"formLabelWidth\" prop=\"cid\">\r\n        <el-select v-model=\"form.category.id\" placeholder=\"请选择分类\">\r\n          <el-option label=\"文学\" value=\"1\"></el-option>\r\n          <el-option label=\"流行\" value=\"2\"></el-option>\r\n          <el-option label=\"文化\" value=\"3\"></el-option>\r\n          <el-option label=\"生活\" value=\"4\"></el-option>\r\n          <el-option label=\"经管\" value=\"5\"></el-option>\r\n          <el-option label=\"科技\" value=\"6\"></el-option>\r\n        </el-select>\r\n        </el-form-item>\r\n        <el-form-item prop=\"id\" style=\"height: 0\">\r\n          <el-input type=\"hidden\" v-model=\"form.id\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"onSubmit\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ImgUpload from './ImgUpload'\r\nexport default {\r\n  name: 'EditForm',\r\n  components: {ImgUpload},\r\n  data () {\r\n    return {\r\n      dialogFormVisible: false,\r\n      form: {\r\n        id: '',\r\n        title: '',\r\n        author: '',\r\n        date: '',\r\n        press: '',\r\n        cover: '',\r\n        abs: '',\r\n        cid: '',\r\n        category: {\r\n          id: '',\r\n          name: ''\r\n        }\r\n      },\r\n      formLabelWidth: '120px'\r\n    }\r\n  },\r\n  methods: {\r\n    clear () {\r\n      this.$refs.imgUpload.clear()\r\n      this.form = {\r\n        id: '',\r\n        title: '',\r\n        author: '',\r\n        date: '',\r\n        press: '',\r\n        cover: '',\r\n        abs: '',\r\n        category: {\r\n          id: '',\r\n          name: ''\r\n        }\r\n      }\r\n    },\r\n    onSubmit () {\r\n      this.$axios.post('/admin/content/books', {\r\n        id: this.form.id,\r\n        cover: this.form.cover,\r\n        title: this.form.title,\r\n        author: this.form.author,\r\n        date: this.form.date,\r\n        press: this.form.press,\r\n        abs: this.form.abs,\r\n        category: this.form.category\r\n      }).then(resp => {\r\n        // if (resp && resp.data.code === 200) {\r\n        if (resp && resp.status === 200) {\r\n          this.dialogFormVisible = false\r\n          this.$emit('onSubmit')\r\n        }\r\n      })\r\n    },\r\n    uploadImg () {\r\n      this.form.cover = this.$refs.imgUpload.url\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .add-button {\r\n    margin: 18px 0 0 10px;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/admin/content/EditForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('el-button',{staticClass:\"add-button\",attrs:{\"type\":\"success\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"添加图书\")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加/修改图书\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event},\"close\":_vm.clear}},[_c('el-form',{ref:\"dataForm\",staticStyle:{\"text-align\":\"left\"},model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}},[_c('el-form-item',{attrs:{\"label\":\"书名\",\"label-width\":_vm.formLabelWidth,\"prop\":\"title\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"不加《》\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"作者\",\"label-width\":_vm.formLabelWidth,\"prop\":\"author\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.author),callback:function ($$v) {_vm.$set(_vm.form, \"author\", $$v)},expression:\"form.author\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"出版日期\",\"label-width\":_vm.formLabelWidth,\"prop\":\"date\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"出版社\",\"label-width\":_vm.formLabelWidth,\"prop\":\"press\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.press),callback:function ($$v) {_vm.$set(_vm.form, \"press\", $$v)},expression:\"form.press\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"封面\",\"label-width\":_vm.formLabelWidth,\"prop\":\"cover\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"图片 URL\"},model:{value:(_vm.form.cover),callback:function ($$v) {_vm.$set(_vm.form, \"cover\", $$v)},expression:\"form.cover\"}}),_vm._v(\" \"),_c('img-upload',{ref:\"imgUpload\",on:{\"onUpload\":_vm.uploadImg}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"简介\",\"label-width\":_vm.formLabelWidth,\"prop\":\"abs\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autocomplete\":\"off\"},model:{value:(_vm.form.abs),callback:function ($$v) {_vm.$set(_vm.form, \"abs\", $$v)},expression:\"form.abs\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分类\",\"label-width\":_vm.formLabelWidth,\"prop\":\"cid\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择分类\"},model:{value:(_vm.form.category.id),callback:function ($$v) {_vm.$set(_vm.form.category, \"id\", $$v)},expression:\"form.category.id\"}},[_c('el-option',{attrs:{\"label\":\"文学\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"流行\",\"value\":\"2\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"文化\",\"value\":\"3\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"生活\",\"value\":\"4\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"经管\",\"value\":\"5\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"科技\",\"value\":\"6\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"height\":\"0\"},attrs:{\"prop\":\"id\"}},[_c('el-input',{attrs:{\"type\":\"hidden\",\"autocomplete\":\"off\"},model:{value:(_vm.form.id),callback:function ($$v) {_vm.$set(_vm.form, \"id\", $$v)},expression:\"form.id\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21f54acf\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/admin/content/EditForm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-21f54acf\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditForm.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditForm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-21f54acf\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditForm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-21f54acf\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/admin/content/EditForm.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}